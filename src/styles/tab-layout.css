/* ===== Tab row ===== */
.tab {
  display       : flex;
  align-items   : center;
  height        : 42px;
  padding       : 0 8px 0 0;
  cursor        : pointer;
  position      : relative;
  border-left   : 5px solid transparent;
  border-bottom : 1px solid var(--vscode-editorGroupHeader-tabsBorder, var(--vscode-panel-border, rgba(128,128,128,0.35)));
  background    : var(--vscode-tab-inactiveBackground, transparent);
  color         : var(--vscode-tab-inactiveForeground, var(--vscode-foreground));
  transition    : transform 200ms cubic-bezier(0.4, 0, 0.2, 1), opacity 200ms ease;
}

/* ===== Compact mode â€” same layout, reduced height ===== */
.tab.compact {
  height : 28px;
}

/* ===== Child tabs (diffs attached to parent) ===== */
.tab.child-tab {
  height           : 24px;
  padding          : 0 4px 0 0;
  padding-left     : 24px;  /* Indentation to show hierarchy */
  background       : transparent;
  border-left      : 3px solid var(--vscode-gitDecoration-modifiedResourceForeground, #e2c08d);
  border-bottom    : 1px solid var(--vscode-editorGroupHeader-tabsBorder, transparent);
  margin-left      : 12px;
  margin-right     : 0;
  border-radius    : 0;
  opacity          : 0.85;
  position         : relative;
}

/* Tree connector line - visual connection to parent */
.tab.child-tab::before {
  content          : '';
  position         : absolute;
  left             : -12px;
  top              : 0;
  bottom           : 0;
  width            : 12px;
  border-left      : 1px solid var(--vscode-editorIndentGuide-background, rgba(128,128,128,0.2));
  border-bottom    : 1px solid var(--vscode-editorIndentGuide-background, rgba(128,128,128,0.2));
  border-bottom-left-radius: 4px;
}

.tab.child-tab:hover {
  opacity    : 1;
  background : var(--vscode-list-hoverBackground, rgba(128,128,128,0.1));
}

.tab.child-tab.active {
  opacity           : 1;
  background        : var(--vscode-list-activeSelectionBackground, rgba(90,93,94,0.2));
  border-left-color : var(--vscode-focusBorder, #007acc);
  border-left-width : 4px;
  padding-left      : 23px;
}

.tab.child-tab .tab-icon {
  width      : 14px;
  min-width  : 14px;
  font-size  : 13px;
  opacity    : 0.8;
  margin-right: 6px;
}

.tab.child-tab .tab-name {
  font-size   : 11.5px;
  font-weight : 500;
  opacity     : 0.9;
}

.tab.child-tab.active .tab-name {
  opacity     : 1;
  font-weight : 600;
}

.tab.child-tab .tab-actions button {
  width  : 18px;
  height : 18px;
}

/* Last child tab gets a small margin-bottom for visual separation */
.tab.child-tab:last-of-type {
  margin-bottom : 4px;
}

.tab.child-tab:last-of-type::before {
  bottom: 50%;
}

/* Inline path in compact mode (inside .tab-name) */
.tab-path-inline {
  opacity    : 0.55;
  font-size  : 0.9em;
  margin-left: 4px;
}
