/* ===== Child tabs (diffs attached to parent) ===== */
.tab.child-tab {
  height           : 24px;
  padding          : 0;
  padding-left     : 32px;  /* Indentation to show hierarchy */
  background       : transparent;
  border-left      : solid var(--vscode-gitDecoration-modifiedResourceForeground, #e2c08d);
  border-left-width : 4px;
  border-bottom    : 1px solid var(--vscode-editorGroupHeader-tabsBorder, transparent);
  margin-left      : 0px;
  margin-right     : 0;
  border-radius    : 0;
  opacity          : 0.85;
  position         : relative;
}

/* Tree connector line - visual connection to parent */
.tab.child-tab::before {
  content          : '';
  position         : absolute;
  left             : -12px;
  top              : 0;
  bottom           : 0;
  width            : 12px;
  border-left      : 1px solid var(--vscode-editorIndentGuide-background, rgba(128,128,128,0.2));
  border-bottom    : 1px solid var(--vscode-editorIndentGuide-background, rgba(128,128,128,0.2));
  border-bottom-left-radius: 4px;
}

.tab.child-tab:hover {
  opacity    : 1;
  background : var(--vscode-list-hoverBackground, rgba(128,128,128,0.1));
}

.tab.child-tab.active {
  opacity           : 1;
  background        : var(--vscode-list-activeSelectionBackground, rgba(90,93,94,0.2));
  border-left-color : var(--vscode-focusBorder, #007acc);
}

.tab.child-tab .tab-icon {
  width      : 14px;
  min-width  : 14px;
  font-size  : 13px;
  opacity    : 0.8;
  margin-right: 6px;
}

.tab.child-tab .tab-actions button {
  width  : 18px;
  height : 18px;
}

/* Last child tab gets a small margin-bottom for visual separation */
.tab.child-tab:last-of-type {
  margin-bottom : 4px;
}

.tab.child-tab:last-of-type::before {
  bottom: 50%;
}

/* ===== Child tab label and stats ===== */
.child-label {
  flex        : 1 1 auto;
  min-width   : 0;
  display     : flex;
  align-items : center;
  gap         : 6px;
}

.child-name {
  font-size   : 11.5px;
  font-weight : 500;
  opacity     : 0.9;
  flex-shrink : 1;
  overflow    : hidden;
  text-overflow: ellipsis;
  white-space : nowrap;
}

.tab.child-tab.active .child-name {
  opacity     : 1;
  font-weight : 600;
}

/* ===== Child tab stats (lines added/removed, timestamp, etc.) ===== */
.child-stats {
  display     : flex;
  align-items : center;
  gap         : 4px;
  font-size   : 10px;
  opacity     : 0.7;
  flex-shrink : 0;
}

.stats-added {
  color: var(--vscode-gitDecoration-addedResourceForeground, #73c991);
}

.stats-removed {
  color: var(--vscode-gitDecoration-deletedResourceForeground, #c74e39);
}

.child-stats.conflict {
  color: var(--vscode-gitDecoration-conflictingResourceForeground, #e51400);
}

/* ===== State indicator for child tabs (errors/warnings inherited from parent) ===== */
.child-tab .state-indicator-error {
  color: var(--vscode-errorForeground, #f48771);
  font-size: 12px;
  margin: 0 4px;
}

.child-tab .state-indicator-warning {
  color: var(--vscode-editorWarning-foreground, #cca700);
  font-size: 12px;
  margin: 0 4px;
}

.child-tab .state-indicator-conflict {
  color: var(--vscode-gitDecoration-conflictingResourceForeground, #e51400);
  font-size: 12px;
  margin: 0 4px;
}
