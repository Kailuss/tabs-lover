/* ===== Reset ===== */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family : var(--vscode-font-family);
  font-size   : var(--vscode-font-size);
  color       : var(--vscode-foreground);
  background  : var(--vscode-sideBar-background, var(--vscode-editor-background));
  overflow-x  : hidden;
  user-select : none;
  border-top  : 1px solid var(--vscode-editorGroupHeader-tabsBorder, var(--vscode-panel-border, rgba(128,128,128,0.35)));
}

/* ===== Group header ===== */
.group-header {
  display        : flex;
  align-items    : center;
  gap            : 5px;
  padding        : 3px 10px;
  font-size      : 10px;
  font-weight    : 600;
  text-transform : uppercase;
  letter-spacing : 0.5px;
  opacity        : 0.7;
  color          : var(--vscode-sideBarSectionHeader-foreground, var(--vscode-foreground));
  background     : var(--vscode-sideBarSectionHeader-background, transparent);
}

/* ===== Tab row ===== */
.tab {
  display       : flex;
  align-items   : center;
  height        : 42px;
  padding       : 0 8px 0 0;
  cursor        : pointer;
  position      : relative;
  border-left   : 5px solid transparent;
  border-bottom : 1px solid var(--vscode-editorGroupHeader-tabsBorder, var(--vscode-panel-border, rgba(128,128,128,0.35)));
  transition    : background 80ms ease;
}
.tab:hover {
  background : var(--vscode-list-hoverBackground);
}
.tab.active {
  border-left-color : var(--vscode-focusBorder, var(--vscode-activityBar-activeBorder, #007acc));
  background        : var(--vscode-list-activeSelectionBackground);
  color             : var(--vscode-list-activeSelectionForeground, var(--vscode-foreground));
}

/* Icon area — fixed width to prevent shifts */
.tab-icon {
  flex            : 0 0 28px;
  display         : flex;
  align-items     : center;
  justify-content : center;
  margin          : 0 8px;
}

.tab-icon img {
  width      : 18px;
  height     : 18px;
  object-fit : contain;
}

/* Text block (name + path stacked) */
.tab-text {
  flex            : 1 1 auto;
  min-width       : 0;
  display         : flex;
  flex-direction  : column;
  justify-content : center;
  line-height     : 1.3;
  overflow        : hidden;
}

.tab-name {
  white-space   : nowrap;
  overflow      : hidden;
  text-overflow : ellipsis;
  font-size     : 14px;
}

/* File state colors - higher specificity to override active state */
.tab .tab-name.modified {
  color: var(--vscode-gitDecoration-modifiedResourceForeground, #e2c08d) !important;
}
.tab .tab-name.added {
  color: var(--vscode-gitDecoration-addedResourceForeground, #73c991) !important;
}
.tab .tab-name.deleted {
  color: var(--vscode-gitDecoration-deletedResourceForeground, #c74e39) !important;
}
.tab .tab-name.untracked {
  color: var(--vscode-gitDecoration-untrackedResourceForeground, #73c991) !important;
}
.tab .tab-name.ignored {
  color: var(--vscode-gitDecoration-ignoredResourceForeground, #8c8c8c) !important;
}
.tab .tab-name.conflict {
  color: var(--vscode-gitDecoration-conflictingResourceForeground, #e51400) !important;
}
.tab .tab-name.warning {
  color: var(--vscode-editorWarning-foreground, #cca700) !important;
}
.tab .tab-name.error {
  color: var(--vscode-editorError-foreground, #f48771) !important;
}
.tab-path {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 11px;
  opacity: 0.6;
  margin-top: 1px;
}

/* State dot (isDirty) — sits at the right edge */
.tab-state {
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  font-size: 16px;
  color: var(--vscode-gitDecoration-modifiedResourceForeground, #e2c08d);
}
/* Hide dirty dot on hover (replaced by close) */
.tab:hover .tab-state { display: none; }
/* When not dirty and not hovered, keep placeholder width */
.tab-state.clean { visibility: hidden; }

/* ===== Action buttons ===== */
.tab-actions {
  flex        : 0 0 auto;
  display     : none; /* hidden by default */
  align-items : center;
  gap         : 2px;
}
.tab:hover .tab-actions { display: flex; }

.tab-actions button {
  background      : transparent;
  border          : none;
  color           : var(--vscode-icon-foreground, var(--vscode-foreground));
  cursor          : pointer;
  width           : 22px;
  height          : 22px;
  border-radius   : 4px;
  display         : flex;
  align-items     : center;
  justify-content : center;
  font-size       : 14px;
  padding         : 0;
  line-height     : 1;
}
.tab-actions button:hover {
  background: var(--vscode-toolbar-hoverBackground, rgba(90,93,94,0.31));
}

/* Pinned indicator on the name */
.tab-name .pin-badge {
  font-size   : 13px;
  margin-left : 4px;
  opacity     : 0.7;
}

/* Codicon support */
.codicon {
  font-size: 16px;
}

/* ===== Empty state ===== */
.empty {
  padding: 16px;
  text-align: center;
  opacity: 0.6;
  font-size: 12px;
}
